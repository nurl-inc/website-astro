---
import { Icon } from "astro-icon";
import { Picture } from "astro:assets";
import dashboard from "../assets/dashboard.webp";
import Layout from "../layouts/Layout.astro";
import EarlyAccessForm from "../components/EarlyAccessForm.astro";
import Card from "../components/Card.astro";

const trollLines = [
  "Loved by everyone - everywhere...literally.",
  "Voted best app by every generation that exists.",
  "The perfect wedding gift - trust us.",
];
const random = () => Math.random().toString()[2];
const funLine = trollLines[parseInt(random())] ?? trollLines[0];

const TAGS = [
  "Extensions",
  "AI Powered",
  "Group Chat",
  "Private GM Notes",
  "Public Notes",
  "Developer API",
];
const shuffle = (arr: Array<unknown>) =>
  [...arr].sort(() => 0.5 - Math.random());
---

<Layout title="Nurl TTRPG">
  <main>
    <section>
      <h2>The app that super powers your game sessions.</h2>
      <p class="headline-support">
        GM's and Players can finally deliver the best game experience possible
        without sweating the "small stuff".
      </p>
    </section>
    <EarlyAccessForm />
  </main>

  <section class="dashboard-wrapper">
    <Picture
      alt="Nurl Beta Dashboard Screenshot"
      formats={["webp"]}
      src={dashboard}
    />
    <p>
      Nurl is the table-top RPG app for enhancing IRL or hybrid game sessions.
    </p>
  </section>

  <section class="section-change-play">
    <h3>Nurl will change how you play the game.</h3>
    <p class="headline-support">
      Creativity and strategy are the most important parts of any game session.
    </p>
    <p>
      With so many things to keep track of, it's easy to get distracted and lose
      focus. Nurl helps you stay focused on the game by taking care of the
      "small stuff".
    </p>

    <div class="card-container">
      <Card
        title="Single Source of Truth"
        body="We bring all the tools you need to run a game session into one place."
        href="/"
      />
      <Card
        title="AI Powered"
        body="We use AI and automation to make your game sessions more immersive and engaging than ever before."
        href="/"
      />
      <Card
        title="Extension Library"
        body="We create a dashboard for you to install and use extensions to help streamline your sessions."
        href="/"
      />
    </div>
  </section>

  <section class="section-developers">
    <h3>Developers</h3>
    <p class="headline-support">Built by developers for developers.</p>
    <p>
      We're building a platform for developers to create extensions that
      integrate with Nurl.
    </p>
    <p>
      Create, publish, and sell your extensions to the Nurl community. We'll
      handle the rest.
    </p>

    <a class="dev-btn" href="https://developers.nurl.app">
      Visit developers.nurl.app <Icon
        aria-hidden
        pack="mdi"
        name="external-link"
        class="icon"
      />
    </a>
  </section>

  <section>
    <h3>Join the Anti-TPK TPK Social Club &trade;</h3>
    <EarlyAccessForm />
  </section>
</Layout>

<style>
  main {
    align-items: center;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding-bottom: 4rem;

    section {
      padding-top: 1rem;
    }
  }

  section {
    padding-bottom: 2rem;
    padding-inline-start: 1rem;
    padding-inline-end: 1rem;
    padding-top: 2rem;

    p {
      font-size: 1.125rem;
      line-height: 1.5;
      margin-bottom: 1.5rem;
    }
  }

  h2 {
    font-size: 2.5rem;
    margin-bottom: 2rem;
  }

  .headline-support {
    font-size: 1.5rem;
  }

  :is(.section-developers, .dashboard-wrapper) {
    background-color: rgba(0, 0, 0, 0.1);
  }

  .dashboard-wrapper {
    margin: 0 auto;
    text-align: center;
    width: 100%;

    picture,
    img {
      display: block;
      height: auto;
      width: 100%;
    }

    p {
      font-size: 1.125rem;
      margin-top: 2rem;
    }
  }

  h3 {
    color: var(--n00bYellow);
    font-size: 2rem;
    margin-bottom: 2rem;
  }

  .section-change-play {
    background-color: var(--wizardWhite);
    color: var(--tpkBlack);
    padding-inline-start: 2.3rem;
    padding-inline-end: 2.3rem;

    h3 {
      color: var(--fourXBlue);
    }
  }

  .card-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 2rem;
  }

  .dev-btn {
    align-items: center;
    border-radius: 0.5rem;
    border: 1px solid var(--sandboxGold);
    color: var(--wizardWhite);
    display: inline-flex;
    font-size: 1.125rem;
    gap: 0.5rem;
    height: 3rem;
    justify-content: center;
    text-decoration: none;
    width: 100%;

    .icon {
      height: 1.5rem;
      width: 1.5rem;
    }
  }
</style>
